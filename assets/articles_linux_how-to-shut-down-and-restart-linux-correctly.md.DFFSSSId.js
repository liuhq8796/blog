import{_ as s,c as i,o as a,a3 as n}from"./chunks/framework.B3gvk7MD.js";const C=JSON.parse('{"title":"Linux 如何正确关机、重启","description":"","frontmatter":{},"headers":[],"relativePath":"articles/linux/how-to-shut-down-and-restart-linux-correctly.md","filePath":"articles/linux/how-to-shut-down-and-restart-linux-correctly.md","lastUpdated":1715666567000}'),t={name:"articles/linux/how-to-shut-down-and-restart-linux-correctly.md"},h=n(`<h1 id="linux-如何正确关机、重启" tabindex="-1">Linux 如何正确关机、重启 <a class="header-anchor" href="#linux-如何正确关机、重启" aria-label="Permalink to &quot;Linux 如何正确关机、重启&quot;">​</a></h1><p>使用<code>who</code>命令查看当前是否还有其他人在登录，或者使用命令<code>ps -aux</code>查看是否还有后台进程在运行。</p><p><code>shutdown</code>、<code>halt</code>、<code>poweroff</code>都为关机的命令，我们可以使用命令<code>man shutdown</code>查看其帮助文档。例如，可以运行如下命令关机（//符号后面的内容为注释）：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 计算机将在10分钟后关机，且会显示在登录用户的当前屏幕中</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 立即关机</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20:25</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 系统会在20:25关机</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10分钟后关机</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 立即重启</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10分钟后重启</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reboot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 重启，等同于shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> now</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">halt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 关闭系统，等同于shutdown</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -h</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> now和poweroff</span></span></code></pre></div><p>不管是重启系统还是关闭系统，首先要运行<code>sync</code>命令，该命令可以把当前内存中的数据写入磁盘中，防止数据丢失。</p><p>再来总结一下，关机的命令有<code>shutdown -h now</code>、<code>halt</code>、<code>poweroff</code>和<code>init 0</code>，重启系统的命令有<code>shutdown -r now</code>、<code>reboot</code>和<code>init 6</code>。</p>`,6),e=[h];function l(p,k,d,o,F,r){return a(),i("div",null,e)}const g=s(t,[["render",l]]);export{C as __pageData,g as default};
